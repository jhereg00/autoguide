{% import './_partials/varSections.njk' as varSections %}
{% import './_partials/elementSections.njk' as elementSections %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ title | default('Styleguide') }}</title>
  <link rel="stylesheet" href="{{ assetPath | replace('/\/$/','') }}/css/autoguide.css">
</head>
<body class="{% if showDev %}show-dev{% endif %}">
  <div class="ag-global-container">

    {% include './_partials/header.njk' %}

    {% include './_partials/nav.njk' %}

    {% for var in vars %}
      {% if varSections[var.title | lower] %}
        {{ varSections[var.title | lower](var) }}
      {% endif %}
    {% endfor %}

    {% for element in elements %}
      {{ elementSections.section(element) }}
    {% endfor %}

    <footer class="footer-main">
      {{ footerMessage | markdown | safe }}
    </footer>
  </div>

  <script>
    window.ag = window.ag || {};
    window.ag.styles = {% if styles %}["{{ styles | join('","') | safe }}"]{% else %}[]{% endif %}.concat(['{{ assetPath | replace('/\/$/','') }}/css/in-frame.css']);
    window.ag.scripts = {% if scripts %}["{{ scripts | join('","') | safe }}"]{% else %}[]{% endif %};
  </script>
  <script src="{{ assetPath | replace('/\/$/','') }}/js/autoguide.js"></script>
</body>
</html>
